import{u as L,o as ee,n as te,r as k,a as ne,t as de,c as fe,w as J,g as pe,b as ge,d as re,s as _e,e as C,f as me,h as j,i as m,j as v,k as a,l as q,_ as le,m as F,F as D,p as B,q as W,v as ve,x as he,y as be}from"./index-Id0j2ZnU.js";function Z(e){return pe()?(ge(e),!0):!1}function U(e){return typeof e=="function"?e():L(e)}const se=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const we=Object.prototype.toString,ye=e=>we.call(e)==="[object Object]",oe=()=>{};function Se(e,n){function t(...l){return new Promise((r,o)=>{Promise.resolve(e(()=>n.apply(this,l),{fn:n,thisArg:this,args:l})).then(r).catch(o)})}return t}const ae=e=>e();function xe(e=ae){const n=k(!0);function t(){n.value=!1}function l(){n.value=!0}const r=(...o)=>{n.value&&e(...o)};return{isActive:ne(n),pause:t,resume:l,eventFilter:r}}function Fe(e){return e||re()}function Ee(...e){if(e.length!==1)return de(...e);const n=e[0];return typeof n=="function"?ne(fe(()=>({get:n,set:oe}))):k(n)}function Le(e,n,t={}){const{eventFilter:l=ae,...r}=t;return J(e,Se(l,n),r)}function Ce(e,n,t={}){const{eventFilter:l,...r}=t,{eventFilter:o,pause:c,resume:u,isActive:p}=xe(l);return{stop:Le(e,n,{...r,eventFilter:o}),pause:c,resume:u,isActive:p}}function ie(e,n=!0,t){const l=Fe(t);l?ee(e,l):n?e():te(e)}function G(e){var n;const t=U(e);return(n=t==null?void 0:t.$el)!=null?n:t}const O=se?window:void 0,ke=se?window.document:void 0;function H(...e){let n,t,l,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,l,r]=e,n=O):[n,t,l,r]=e,!n)return oe;Array.isArray(t)||(t=[t]),Array.isArray(l)||(l=[l]);const o=[],c=()=>{o.forEach(g=>g()),o.length=0},u=(g,f,x,_)=>(g.addEventListener(f,x,_),()=>g.removeEventListener(f,x,_)),p=J(()=>[G(n),U(r)],([g,f])=>{if(c(),!g)return;const x=ye(f)?{...f}:f;o.push(...t.flatMap(_=>l.map(y=>u(g,_,y,x))))},{immediate:!0,flush:"post"}),b=()=>{p(),c()};return Z(b),b}function $e(){const e=k(!1);return re()&&ee(()=>{e.value=!0}),e}function ue(e){const n=$e();return C(()=>(n.value,!!e()))}function je(e,n={}){const{window:t=O}=n,l=ue(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let r;const o=k(!1),c=b=>{o.value=b.matches},u=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",c):r.removeListener(c))},p=me(()=>{l.value&&(u(),r=t.matchMedia(U(e)),"addEventListener"in r?r.addEventListener("change",c):r.addListener(c),o.value=r.matches)});return Z(()=>{p(),u(),r=void 0}),o}const T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N="__vueuse_ssr_handlers__",Me=Ae();function Ae(){return N in T||(T[N]=T[N]||{}),T[N]}function ce(e,n){return Me[e]||n}function ze(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Oe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Q="vueuse-storage";function P(e,n,t,l={}){var r;const{flush:o="pre",deep:c=!0,listenToStorageChanges:u=!0,writeDefaults:p=!0,mergeDefaults:b=!1,shallow:g,window:f=O,eventFilter:x,onError:_=i=>{console.error(i)},initOnMounted:y}=l,w=(g?_e:k)(typeof n=="function"?n():n);if(!t)try{t=ce("getDefaultStorage",()=>{var i;return(i=O)==null?void 0:i.localStorage})()}catch(i){_(i)}if(!t)return w;const S=U(n),s=ze(S),$=(r=l.serializer)!=null?r:Oe[s],{pause:I,resume:h}=Ce(w,()=>M(w.value),{flush:o,deep:c,eventFilter:x});return f&&u&&ie(()=>{H(f,"storage",E),H(f,Q,z),y&&E()}),y||E(),w;function M(i){try{if(i==null)t.removeItem(e);else{const d=$.write(i),A=t.getItem(e);A!==d&&(t.setItem(e,d),f&&f.dispatchEvent(new CustomEvent(Q,{detail:{key:e,oldValue:A,newValue:d,storageArea:t}})))}}catch(d){_(d)}}function R(i){const d=i?i.newValue:t.getItem(e);if(d==null)return p&&S!=null&&t.setItem(e,$.write(S)),S;if(!i&&b){const A=$.read(d);return typeof b=="function"?b(A,S):s==="object"&&!Array.isArray(A)?{...S,...A}:A}else return typeof d!="string"?d:$.read(d)}function z(i){E(i.detail)}function E(i){if(!(i&&i.storageArea!==t)){if(i&&i.key==null){w.value=S;return}if(!(i&&i.key!==e)){I();try{(i==null?void 0:i.newValue)!==$.write(w.value)&&(w.value=R(i))}catch(d){_(d)}finally{i?te(h):h()}}}}}function Ie(e){return je("(prefers-color-scheme: dark)",e)}function Re(e={}){const{selector:n="html",attribute:t="class",initialValue:l="auto",window:r=O,storage:o,storageKey:c="vueuse-color-scheme",listenToStorageChanges:u=!0,storageRef:p,emitAuto:b,disableTransition:g=!0}=e,f={auto:"",light:"light",dark:"dark",...e.modes||{}},x=Ie({window:r}),_=C(()=>x.value?"dark":"light"),y=p||(c==null?Ee(l):P(c,l,o,{window:r,listenToStorageChanges:u})),w=C(()=>y.value==="auto"?_.value:y.value),S=ce("updateHTMLAttrs",(h,M,R)=>{const z=typeof h=="string"?r==null?void 0:r.document.querySelector(h):G(h);if(!z)return;let E;if(g){E=r.document.createElement("style");const i="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";E.appendChild(document.createTextNode(i)),r.document.head.appendChild(E)}if(M==="class"){const i=R.split(/\s/g);Object.values(f).flatMap(d=>(d||"").split(/\s/g)).filter(Boolean).forEach(d=>{i.includes(d)?z.classList.add(d):z.classList.remove(d)})}else z.setAttribute(M,R);g&&(r.getComputedStyle(E).opacity,document.head.removeChild(E))});function s(h){var M;S(n,t,(M=f[h])!=null?M:h)}function $(h){e.onChanged?e.onChanged(h,s):s(h)}J(w,$,{flush:"post",immediate:!0}),ie(()=>$(w.value));const I=C({get(){return b?y.value:w.value},set(h){y.value=h}});try{return Object.assign(I,{store:y,system:_,state:w})}catch{return I}}const K=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function Te(e,n={}){const{document:t=ke,autoExit:l=!1}=n,r=C(()=>{var s;return(s=G(e))!=null?s:t==null?void 0:t.querySelector("html")}),o=k(!1),c=C(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(s=>t&&s in t||r.value&&s in r.value)),u=C(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(s=>t&&s in t||r.value&&s in r.value)),p=C(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(s=>t&&s in t||r.value&&s in r.value)),b=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(s=>t&&s in t),g=ue(()=>r.value&&t&&c.value!==void 0&&u.value!==void 0&&p.value!==void 0),f=()=>b?(t==null?void 0:t[b])===r.value:!1,x=()=>{if(p.value){if(t&&t[p.value]!=null)return t[p.value];{const s=r.value;if((s==null?void 0:s[p.value])!=null)return!!s[p.value]}}return!1};async function _(){if(!(!g.value||!o.value)){if(u.value)if((t==null?void 0:t[u.value])!=null)await t[u.value]();else{const s=r.value;(s==null?void 0:s[u.value])!=null&&await s[u.value]()}o.value=!1}}async function y(){if(!g.value||o.value)return;x()&&await _();const s=r.value;c.value&&(s==null?void 0:s[c.value])!=null&&(await s[c.value](),o.value=!0)}async function w(){await(o.value?_():y())}const S=()=>{const s=x();(!s||s&&f())&&(o.value=s)};return H(t,K,S,!1),H(()=>G(r),K,S,!1),l&&Z(_),{isSupported:g,isFullscreen:o,enter:y,exit:_,toggle:w}}const Ne=a("div",{"i-humbleicons:exchange-vertical":"","text-2xl":""},null,-1),De=[Ne],Be=j({__name:"ChangeBackImage",setup(e){const n=P("bgImage",1,localStorage),t=()=>{n.value>=4?n.value=1:n.value++};return(l,r)=>(m(),v("button",{rounded:"","p-2":"",hover:"bg-active",onClick:t},De))}}),Ge=j({__name:"FullScreenToggle",setup(e){const{isFullscreen:n,toggle:t}=Te();return(l,r)=>(m(),v("button",{rounded:"","p-2":"",hover:"bg-active",onClick:r[0]||(r[0]=(...o)=>L(t)&&L(t)(...o))},[a("div",{class:q({"i-gridicons:fullscreen-exit":L(n),"i-gridicons:fullscreen":!L(n)}),"text-2xl":""},null,2)]))}}),He=a("div",{"i-ph-sun-dim-duotone":"","dark:i-ph-moon-stars-duotone":"","text-2xl":""},null,-1),Ue=[He],Ve=j({__name:"ColorSchemeToggle",setup(e){const n=Re(),t=()=>{n.value=n.value==="light"?"dark":"light"};return(l,r)=>(m(),v("button",{rounded:"","p-2":"",hover:"bg-active",onClick:t},Ue))}}),We={},qe={rounded:"",p2:"",title:"GitHub",hover:"bg-active",href:"https://github.com/SmallTeddy/e-card",target:"_blank"},Je=a("div",{"i-carbon-logo-github":"","text-2xl":""},null,-1),Ze=[Je];function Pe(e,n){return m(),v("a",qe,Ze)}const Qe=le(We,[["render",Pe]]),Ke={px4:"",py3:"","text-lg":"",border:"b base",flex:"~ gap-1 items-center"},Ye=a("div",{title:"Game"}," E-Card ",-1),Xe=a("div",{"flex-auto":""},null,-1),et={__name:"GameNav",setup(e){return(n,t)=>(m(),v("nav",Ke,[Ye,Xe,F(Qe),F(Be),F(Ve),F(Ge)]))}},V=e=>(ve("data-v-233ad15b"),e=e(),he(),e),tt=V(()=>a("td",null,"局数",-1)),nt=V(()=>a("td",null,"总计",-1)),rt=V(()=>a("td",null,"皇帝",-1)),lt=V(()=>a("td",null,"奴隶",-1)),st=j({__name:"GameInformation",setup(e){const n=[1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1],t=n.map(o=>!!o),l=n.reduce((o,c)=>o+c,0),r=21-l;return(o,c)=>(m(),v("table",null,[a("tr",null,[tt,(m(),v(D,null,B(21,u=>a("td",null,W(u),1)),64)),nt]),a("tr",null,[rt,(m(),v(D,null,B(n,u=>a("td",null,[a("div",{"w-20px":"","h-20px":"","border-rd-10px":"",class:q(u?"bg-green":"bg-red")},null,2)])),64)),a("td",null,W(L(l)),1)]),a("tr",null,[lt,(m(!0),v(D,null,B(L(t),u=>(m(),v("td",null,[a("div",{"w-20px":"","h-20px":"","border-rd-10px":"",class:q(u?"bg-red":"bg-green")},null,2)]))),256)),a("td",null,W(r))])]))}}),Y=le(st,[["__scopeId","data-v-233ad15b"]]),ot=""+new URL("bg-1-7WOjZxTA.jpg",import.meta.url).href,at=""+new URL("bg-2-DLgME5w9.jpg",import.meta.url).href,it=""+new URL("bg-3-aFUBrAKO.jpg",import.meta.url).href,ut=""+new URL("bg-4-3vOUQaI_.jpg",import.meta.url).href,ct=""+new URL("citizen-2myAtGQo.jpg",import.meta.url).href,dt=""+new URL("emperor-jZ-GUtEA.jpg",import.meta.url).href,ft=""+new URL("slave-vZ3wDTL4.jpg",import.meta.url).href,pt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='37.07'%20height='36'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20198'%3e%3cpath%20fill='%2341B883'%20d='M204.8%200H256L128%20220.8L0%200h97.92L128%2051.2L157.44%200h47.36Z'%3e%3c/path%3e%3cpath%20fill='%2341B883'%20d='m0%200l128%20220.8L256%200h-51.2L128%20132.48L50.56%200H0Z'%3e%3c/path%3e%3cpath%20fill='%2335495E'%20d='M50.56%200L128%20133.12L204.8%200h-47.36L128%2051.2L97.92%200H50.56Z'%3e%3c/path%3e%3c/svg%3e",gt=e=>new URL(Object.assign({"../assets/bg-1.jpg":ot,"../assets/bg-2.jpg":at,"../assets/bg-3.jpg":it,"../assets/bg-4.jpg":ut,"../assets/citizen.jpg":ct,"../assets/emperor.jpg":dt,"../assets/slave.jpg":ft,"../assets/vue.svg":pt})[`../assets/${e}`],import.meta.url).href,_t={grid:"~ cols-5 gap-5"},mt=["src"],X=j({__name:"Card",props:{role:{type:String,default:"emperor"}},setup(e){const n=e,t=k(["emperor","citizen","citizen","citizen","citizen"]),l=k(["slave","citizen","citizen","citizen","citizen"]),r=C(()=>n.role==="emperor"?t.value:l.value);return(o,c)=>(m(),v("div",_t,[(m(!0),v(D,null,B(L(r),u=>(m(),v("img",{"cursor-pointer":"","w-120px":"",src:L(gt)(`${u}.jpg`)},null,8,mt))),256))]))}}),vt={"h-full":"",grid:"~ rows-4"},ht={"h-full":"","w-screen":"","bg-red":"",grid:"~ cols-5"},bt={"col-span-3":"","w-full":"","bg-gray:50":"","flex-center":""},wt={"col-span-2":"","w-full":"","bg-gray:80":"","flex-center":""},yt=a("div",{"h-full":"","w-screen":"","bg-blue":"",grid:"~ cols-3"},[a("div",{"w-full":"","bg-gray:80":"","flex-center":""},"空"),a("div",{"w-full":"","bg-gray:50":"","flex-center":""},"检查局域"),a("div",{"w-full":"","bg-gray:80":"","flex-center":""},"弃牌区域")],-1),St=a("div",{"h-full":"","w-screen":"","bg-yellow":"",grid:"~ cols-3"},[a("div",{"w-full":"","bg-gray:80":"","flex-center":""},"空"),a("div",{"w-full":"","bg-gray:50":"","flex-center":""},"检查局域"),a("div",{"w-full":"","bg-gray:80":"","flex-center":""},"弃牌区域")],-1),xt={"h-full":"","w-screen":"","bg-green":"",grid:"~ cols-5"},Ft={"col-span-3":"","w-full":"","bg-gray:50":"","flex-center":""},Et={"col-span-2":"","w-full":"","bg-gray:80":"","flex-center":""},Lt=j({__name:"GameMain",setup(e){return(n,t)=>(m(),v("div",vt,[a("div",ht,[a("div",bt,[F(X,{role:"slave"})]),a("div",wt,[F(Y)])]),yt,St,a("div",xt,[a("div",Ft,[F(X,{role:"emperor"})]),a("div",Et,[F(Y)])])]))}}),Ct=j({__name:"GameContent",setup(e){const n=P("bgImage",1,localStorage)||k(1);return(t,l)=>(m(),v("div",{"w-full":"","h-full":"","flex-center":"","bg-center":"","bg-cover":"","bg-no-repeat":"",style:be({backgroundImage:`url(src/assets/bg-${L(n)}.jpg)`})},[F(Lt)],4))}}),kt={"h-100dvh":"","h-screen":"","w-screen":"","of-hidden":"",grid:"~ rows-[max-content_1fr]"},jt=j({__name:"Home",setup(e){return(n,t)=>(m(),v("main",kt,[F(et),F(Ct)]))}});export{jt as default};
