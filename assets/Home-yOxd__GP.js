import{e as $e,u as m,o as X,n as ue,r as k,a as de,w as D,g as Fe,b as Ee,t as Le,c as Re,d as fe,s as Me,f as L,h as ze,i as $,j as h,k as w,l as s,m as O,_ as Y,p as x,F as ee,q as pe,v as M,x as me,y as _e,z as ge,A as Ae,B as q,C as ve,D as F,E as he,T as se,G as je,H as Te}from"./index-KBfqoxMH.js";function te(e){return Fe()?(Ee(e),!0):!1}function Oe(e){let n=!1,t;const o=$e(!0);return(...r)=>(n||(t=o.run(()=>e(...r)),n=!0),t)}function Z(e){return typeof e=="function"?e():m(e)}const we=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ge=Object.prototype.toString,Ne=e=>Ge.call(e)==="[object Object]",be=()=>{};function De(e,n){function t(...o){return new Promise((r,l)=>{Promise.resolve(e(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(r).catch(l)})}return t}const ye=e=>e();function Be(e=ye){const n=k(!0);function t(){n.value=!1}function o(){n.value=!0}const r=(...l)=>{n.value&&e(...l)};return{isActive:de(n),pause:t,resume:o,eventFilter:r}}function He(e){return e||fe()}function Ue(...e){if(e.length!==1)return Le(...e);const n=e[0];return typeof n=="function"?de(Re(()=>({get:n,set:be}))):k(n)}function Ve(e,n,t={}){const{eventFilter:o=ye,...r}=t;return D(e,De(o,n),r)}function We(e,n,t={}){const{eventFilter:o,...r}=t,{eventFilter:l,pause:a,resume:i,isActive:u}=Be(o);return{stop:Ve(e,n,{...r,eventFilter:l}),pause:a,resume:i,isActive:u}}function Ce(e,n=!0,t){const o=He(t);o?X(e,o):n?e():ue(e)}function P(e){var n;const t=Z(e);return(n=t==null?void 0:t.$el)!=null?n:t}const N=we?window:void 0,qe=we?window.document:void 0;function J(...e){let n,t,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,o,r]=e,n=N):[n,t,o,r]=e,!n)return be;Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);const l=[],a=()=>{l.forEach(v=>v()),l.length=0},i=(v,d,g,f)=>(v.addEventListener(d,g,f),()=>v.removeEventListener(d,g,f)),u=D(()=>[P(n),Z(r)],([v,d])=>{if(a(),!v)return;const g=Ne(d)?{...d}:d;l.push(...t.flatMap(f=>o.map(C=>i(v,f,C,g))))},{immediate:!0,flush:"post"}),_=()=>{u(),a()};return te(_),_}function Pe(){const e=k(!1);return fe()&&X(()=>{e.value=!0}),e}function xe(e){const n=Pe();return L(()=>(n.value,!!e()))}function Je(e,n={}){const{window:t=N}=n,o=xe(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let r;const l=k(!1),a=_=>{l.value=_.matches},i=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",a):r.removeListener(a))},u=ze(()=>{o.value&&(i(),r=t.matchMedia(Z(e)),"addEventListener"in r?r.addEventListener("change",a):r.addListener(a),l.value=r.matches)});return te(()=>{u(),i(),r=void 0}),l}const V=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W="__vueuse_ssr_handlers__",Ze=Ke();function Ke(){return W in V||(V[W]=V[W]||{}),V[W]}function ke(e,n){return Ze[e]||n}function Qe(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Xe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},oe="vueuse-storage";function G(e,n,t,o={}){var r;const{flush:l="pre",deep:a=!0,listenToStorageChanges:i=!0,writeDefaults:u=!0,mergeDefaults:_=!1,shallow:v,window:d=N,eventFilter:g,onError:f=p=>{console.error(p)},initOnMounted:C}=o,b=(v?Me:k)(typeof n=="function"?n():n);if(!t)try{t=ke("getDefaultStorage",()=>{var p;return(p=N)==null?void 0:p.localStorage})()}catch(p){f(p)}if(!t)return b;const S=Z(n),c=Qe(S),R=(r=o.serializer)!=null?r:Xe[c],{pause:H,resume:I}=We(b,()=>z(b.value),{flush:l,deep:a,eventFilter:g});return d&&i&&Ce(()=>{J(d,"storage",E),J(d,oe,j),C&&E()}),C||E(),b;function z(p){try{if(p==null)t.removeItem(e);else{const y=R.write(p),A=t.getItem(e);A!==y&&(t.setItem(e,y),d&&d.dispatchEvent(new CustomEvent(oe,{detail:{key:e,oldValue:A,newValue:y,storageArea:t}})))}}catch(y){f(y)}}function U(p){const y=p?p.newValue:t.getItem(e);if(y==null)return u&&S!=null&&t.setItem(e,R.write(S)),S;if(!p&&_){const A=R.read(y);return typeof _=="function"?_(A,S):c==="object"&&!Array.isArray(A)?{...S,...A}:A}else return typeof y!="string"?y:R.read(y)}function j(p){E(p.detail)}function E(p){if(!(p&&p.storageArea!==t)){if(p&&p.key==null){b.value=S;return}if(!(p&&p.key!==e)){H();try{(p==null?void 0:p.newValue)!==R.write(b.value)&&(b.value=U(p))}catch(y){f(y)}finally{p?ue(I):I()}}}}}function Ye(e){return Je("(prefers-color-scheme: dark)",e)}function et(e={}){const{selector:n="html",attribute:t="class",initialValue:o="auto",window:r=N,storage:l,storageKey:a="vueuse-color-scheme",listenToStorageChanges:i=!0,storageRef:u,emitAuto:_,disableTransition:v=!0}=e,d={auto:"",light:"light",dark:"dark",...e.modes||{}},g=Ye({window:r}),f=L(()=>g.value?"dark":"light"),C=u||(a==null?Ue(o):G(a,o,l,{window:r,listenToStorageChanges:i})),b=L(()=>C.value==="auto"?f.value:C.value),S=ke("updateHTMLAttrs",(I,z,U)=>{const j=typeof I=="string"?r==null?void 0:r.document.querySelector(I):P(I);if(!j)return;let E;if(v){E=r.document.createElement("style");const p="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";E.appendChild(document.createTextNode(p)),r.document.head.appendChild(E)}if(z==="class"){const p=U.split(/\s/g);Object.values(d).flatMap(y=>(y||"").split(/\s/g)).filter(Boolean).forEach(y=>{p.includes(y)?j.classList.add(y):j.classList.remove(y)})}else j.setAttribute(z,U);v&&(r.getComputedStyle(E).opacity,document.head.removeChild(E))});function c(I){var z;S(n,t,(z=d[I])!=null?z:I)}function R(I){e.onChanged?e.onChanged(I,c):c(I)}D(b,R,{flush:"post",immediate:!0}),Ce(()=>R(b.value));const H=L({get(){return _?C.value:b.value},set(I){C.value=I}});try{return Object.assign(H,{store:C,system:f,state:b})}catch{return H}}const le=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function tt(e,n={}){const{document:t=qe,autoExit:o=!1}=n,r=L(()=>{var c;return(c=P(e))!=null?c:t==null?void 0:t.querySelector("html")}),l=k(!1),a=L(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(c=>t&&c in t||r.value&&c in r.value)),i=L(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(c=>t&&c in t||r.value&&c in r.value)),u=L(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(c=>t&&c in t||r.value&&c in r.value)),_=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(c=>t&&c in t),v=xe(()=>r.value&&t&&a.value!==void 0&&i.value!==void 0&&u.value!==void 0),d=()=>_?(t==null?void 0:t[_])===r.value:!1,g=()=>{if(u.value){if(t&&t[u.value]!=null)return t[u.value];{const c=r.value;if((c==null?void 0:c[u.value])!=null)return!!c[u.value]}}return!1};async function f(){if(!(!v.value||!l.value)){if(i.value)if((t==null?void 0:t[i.value])!=null)await t[i.value]();else{const c=r.value;(c==null?void 0:c[i.value])!=null&&await c[i.value]()}l.value=!1}}async function C(){if(!v.value||l.value)return;g()&&await f();const c=r.value;a.value&&(c==null?void 0:c[a.value])!=null&&(await c[a.value](),l.value=!0)}async function b(){await(l.value?f():C())}const S=()=>{const c=g();(!c||c&&d())&&(l.value=c)};return J(t,le,S,!1),J(()=>P(r),le,S,!1),o&&te(f),{isSupported:v,isFullscreen:l,enter:C,exit:f,toggle:b}}const nt=$({__name:"GameInfoToggle",setup(e){const n=G("showGameInfo",!0,localStorage),t=()=>n.value=!n.value;return(o,r)=>(h(),w("button",{rounded:"","p-2":"",hover:"bg-active",onClick:t},[s("div",{class:O({"i-material-symbols:right-panel-close-rounded":m(n),"i-material-symbols:right-panel-open-rounded":!m(n)}),"text-2xl":""},null,2)]))}}),rt=s("div",{"i-humbleicons:exchange-vertical":"","text-2xl":""},null,-1),st=[rt],ot=$({__name:"ChangeBackImage",setup(e){const n=G("bgImage",1,localStorage),t=()=>{n.value>=4?n.value=1:n.value++};return(o,r)=>(h(),w("button",{rounded:"","p-2":"",hover:"bg-active",onClick:t},st))}}),lt=$({__name:"FullScreenToggle",setup(e){const{isFullscreen:n,toggle:t}=tt();return(o,r)=>(h(),w("button",{rounded:"","p-2":"",hover:"bg-active",onClick:r[0]||(r[0]=(...l)=>m(t)&&m(t)(...l))},[s("div",{class:O({"i-gridicons:fullscreen-exit":m(n),"i-gridicons:fullscreen":!m(n)}),"text-2xl":""},null,2)]))}}),at=s("div",{"i-ph-sun-dim-duotone":"","dark:i-ph-moon-stars-duotone":"","text-2xl":""},null,-1),ct=[at],it=$({__name:"ColorSchemeToggle",setup(e){const n=et(),t=()=>{n.value=n.value==="light"?"dark":"light"};return(o,r)=>(h(),w("button",{rounded:"","p-2":"",hover:"bg-active",onClick:t},ct))}}),ut={},dt={rounded:"",p2:"",title:"GitHub",hover:"bg-active",href:"https://github.com/SmallTeddy/e-card",target:"_blank"},ft=s("div",{"i-carbon-logo-github":"","text-2xl":""},null,-1),pt=[ft];function mt(e,n){return h(),w("a",dt,pt)}const _t=Y(ut,[["render",mt]]),gt={"w-screen":"",px4:"",py3:"","text-lg":"",border:"b base",flex:"~ gap-1 items-center"},vt=s("div",{title:"Game"},"E-Card",-1),ht=s("div",{"flex-auto":""},null,-1),wt={__name:"GameNav",setup(e){return(n,t)=>(h(),w("nav",gt,[vt,ht,x(_t),x(nt),x(it),x(ot),x(lt)]))}},K=e=>(me("data-v-e534a9a9"),e=e(),_e(),e),bt=K(()=>s("tr",null,[s("td",null,"局数"),s("td",null,"角色"),s("td",null,"结果"),s("td",null,"记分")],-1)),yt=K(()=>s("td",null,"总比分",-1)),Ct=K(()=>s("td",null,null,-1)),xt=K(()=>s("td",null,null,-1)),kt=$({__name:"GameInformation",props:{gameInfoItems:{default:()=>[]}},setup(e){const t=e.gameInfoItems,o=t.reduce((r,l)=>r+l.score,0);return(r,l)=>(h(),w("table",null,[bt,(h(!0),w(ee,null,pe(m(t),a=>(h(),w("tr",{class:O(a.score?"bg-green":"bg-red")},[s("td",null,M(a.round),1),s("td",null,M(a.role),1),s("td",null,M(a.result),1),s("td",null,M(a.score),1)],2))),256)),s("tr",null,[yt,Ct,xt,s("td",null,M(m(o)),1)])]))}}),St=Y(kt,[["__scopeId","data-v-e534a9a9"]]),It=""+new URL("bg-1-7WOjZxTA.jpg",import.meta.url).href,$t=""+new URL("bg-2-DLgME5w9.jpg",import.meta.url).href,Ft=""+new URL("bg-3-aFUBrAKO.jpg",import.meta.url).href,Et=""+new URL("bg-4-3vOUQaI_.jpg",import.meta.url).href,Lt=""+new URL("card-bg-zSKX5ea3.jpg",import.meta.url).href,Rt=""+new URL("citizen-2myAtGQo.jpg",import.meta.url).href,Mt=""+new URL("emperor-jZ-GUtEA.jpg",import.meta.url).href,zt=""+new URL("slave-vZ3wDTL4.jpg",import.meta.url).href,At="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='37.07'%20height='36'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20198'%3e%3cpath%20fill='%2341B883'%20d='M204.8%200H256L128%20220.8L0%200h97.92L128%2051.2L157.44%200h47.36Z'%3e%3c/path%3e%3cpath%20fill='%2341B883'%20d='m0%200l128%20220.8L256%200h-51.2L128%20132.48L50.56%200H0Z'%3e%3c/path%3e%3cpath%20fill='%2335495E'%20d='M50.56%200L128%20133.12L204.8%200h-47.36L128%2051.2L97.92%200H50.56Z'%3e%3c/path%3e%3c/svg%3e",ne=Oe(()=>G("global-state",{playerRole:null,isAiBattle:!0,rounds:0,playerCardItems:[],computerCardItems:[]})),T=ne(),jt=e=>e=="emperor"?"国王":"乞丐",Tt=e=>`${e}.jpg`,ae=(e,n,t)=>({role:e,img:Tt(e),isClick:!1,sort:n,group:t}),ce=e=>{const n=Array(4).fill(0).map((t,o)=>ae("citizen",o+1,e));return n.unshift(ae(e,0,e)),n},Se=e=>e=="emperor"?"slave":"emperor",Ie=(e,n)=>{T.value.playerRole=e,T.value.rounds=n,T.value.playerCardItems=ce(e),T.value.computerCardItems=ce(Se(e))},Ot=()=>{const e=Se(T.value.playerRole),n=T.value.rounds+1;Ie(e,n)},B=e=>new URL(Object.assign({"../assets/bg-1.jpg":It,"../assets/bg-2.jpg":$t,"../assets/bg-3.jpg":Ft,"../assets/bg-4.jpg":Et,"../assets/card-bg.jpg":Lt,"../assets/citizen.jpg":Rt,"../assets/emperor.jpg":Mt,"../assets/slave.jpg":zt,"../assets/vue.svg":At})[`../assets/${e}`],import.meta.url).href,re=e=>(Math.floor(Math.random()*e)+1)%e,Q=(e,n=new WeakMap)=>{if(e===null||typeof e!="object")return e;if(n.has(e))return n.get(e);let t=Array.isArray(e)?[]:{};n.set(e,t);for(let o in e)e.hasOwnProperty(o)&&(t[o]=Q(e[o],n));return t},Gt={grid:"~ cols-5 gap-5"},Nt=["alt","src"],Dt=$({__name:"ComputedCard",props:{role:{default:()=>"emperor"},cardItems:{default:()=>[]}},emits:{"card-check":e=>!0},setup(e,{expose:n,emit:t}){const o=e,r=t,l=k();return D(()=>o.cardItems,i=>{l.value=i},{immediate:!0}),n({cardCheckClick:i=>{l.value=l.value.filter(u=>u.sort!==i.sort),r("card-check",i)}}),(i,u)=>(h(),w("div",Gt,[(h(!0),w(ee,null,pe(i.cardItems,(_,v)=>(h(),w("div",{"card-size":"",relative:"","cursor-pointer":"","transition-all-500":"",class:O([_.isClick?"top--20px":"top-0",_.group,_.role+v])},[s("img",{alt:_.role,src:m(B)(_.img)},null,8,Nt)],2))),256))]))}}),Bt=["alt","src","onClick"],Ht={key:0,"text-center":""},Ut=["onClick"],Vt=$({__name:"PlayerCard",props:{role:{default:()=>"emperor"},cardItems:{default:()=>[]}},emits:{"card-check":e=>!0},setup(e,{expose:n,emit:t}){const o=e,r=t,l=k();D(()=>o.cardItems,u=>{l.value=u},{immediate:!0});const a=u=>{l.value.map(_=>_.isClick=!1),u.isClick=!0},i=u=>{r("card-check",u)};return n({cardCheckClick:i}),(u,_)=>{const v=ge("draggable");return h(),Ae(v,{list:u.cardItems,tag:"div",group:{name:u.role,pull:!0,put:!1,revertClone:!0},"component-data":{grid:"~ cols-5 gap-5"},"item-key":"sort",sort:!0},{item:q(({element:d,index:g})=>[s("div",{"card-size":"",relative:"","cursor-pointer":"","transition-all-500":"",class:O([d.isClick?"top--20px":"top-0",d.group,d.role+g])},[s("img",{alt:d.role,src:m(B)(d.img),onClick:f=>a(d)},null,8,Bt),d.isClick?(h(),w("div",Ht,[s("button",{onClick:f=>i(d)},"check",8,Ut)])):ve("",!0)],2)]),_:1},8,["list","group"])}}}),Wt=e=>(me("data-v-f3ad64eb"),e=e(),_e(),e),qt={key:0,"flex-center":"","flex-col":"","h-full":"","w-screen":"",relative:"","font-size-40px":"","bg-gray:50":""},Pt={key:0},Jt={"w-160px":"","h-56px":"","flex-center":"","rd-8px":"","gap-5":""},Zt={"text-green":""},Kt={"w-240px":"","h-56px":"","flex-center":"","rd-8px":""},Qt={"text-red":""},Xt={key:1,"flex-col":"","flex-center":"","gap-10":""},Yt=Wt(()=>s("div",{"flex-center":"","gap-10":""},[s("div",{class:"card-emperor"},[s("div",{class:"front"}),s("div",{class:"back"})]),s("div",{class:"card-citizen"},[s("div",{class:"front"}),s("div",{class:"back"})]),s("div",{class:"card-slave"},[s("div",{class:"front"}),s("div",{class:"back"})])],-1)),en=$({__name:"StartInfo",setup(e,{expose:n}){const t=ne(),o=k(!1),r=k(!0),l=k(21),a=k({playerRole:re(2)==0?"emperor":"slave",rounds:1}),i=L(()=>jt(a.value.playerRole));Ie(Math.floor(Math.random()*10*20%2)==0?"emperor":"slave",1),a.value=t.value,X(()=>{u()});const u=()=>{r.value=!0,a.value.rounds<=l.value&&a.value.rounds>1&&setTimeout(()=>{r.value=!1},2e3)},_=()=>{o.value=!0,setTimeout(()=>{r.value=!1,a.value.rounds>l.value&&(o.value=!1)},2e3)},v=d=>{let g="开始";return d>1&&d<=l.value&&(g="继续"),g};return n({reshow:u}),(d,g)=>{var f;return m(r)?(h(),w("div",qt,[m(o)?(h(),w("div",Pt,[s("div",Jt,[F(" 第 "),s("span",Zt,M((f=m(a))==null?void 0:f.rounds),1),F(" 局 ")]),s("div",Kt,[F(" 角色 ： "),s("span",Qt,M(m(i)),1)])])):(h(),w("div",Xt,[s("button",{onClick:_},M(v(m(a).rounds)),1),Yt]))])):ve("",!0)}}}),tn=Y(en,[["__scopeId","data-v-f3ad64eb"]]),nn={key:0},rn=["alt","src"],sn={key:1,"card-size":"","cursor-pointer":"",border:"1px #fff dashed","flex-center":""},on=s("br",null,null,-1),ln=s("br",null,null,-1),an=s("br",null,null,-1),ie=$({__name:"CheckCard",props:{cardInfo:{default:()=>null}},setup(e){return(n,t)=>n.cardInfo[0]?(h(),w("div",nn,[s("img",{"card-size":"","cursor-pointer":"",alt:n.cardInfo[0].role,src:m(B)(n.cardInfo[0].img)},null,8,rn)])):(h(),w("div",sn,[F(" 检"),on,F("查"),ln,F("区"),an,F("域 ")]))}}),cn={key:0,"flex-center":"",relative:"","card-size":""},un=["alt","src"],dn={key:1,"card-size":"","cursor-pointer":"",border:"1px #fff dashed","flex-center":""},fn=s("br",null,null,-1),pn=s("br",null,null,-1),mn=s("br",null,null,-1),_n=$({__name:"DropCard",props:{cardItems:{default:()=>[]}},setup(e){return(n,t)=>{const o=ge("draggable");return n.cardItems.length>0?(h(),w("div",cn,[x(o,{list:n.cardItems,group:"drop","item-key":"sort"},{item:q(({element:r,index:l})=>[s("img",{"card-size":"","cursor-pointer":"",absolute:"","left-0":"","top-0":"",class:"rotate",style:he(`--rotation-random: ${m(re)(5*l)}deg`),alt:r.role,src:m(B)(r.img)},null,12,un)]),_:1},8,["list"])])):(h(),w("div",dn,[F(" 弃"),fn,F("牌"),pn,F("区"),mn,F("域 ")]))}}}),gn={grid:"~ rows-4","col-span-3":"","h-full":"","w-full":""},vn={"w-full":"","bg-gray:50":"","flex-center":""},hn={"bg-gray:50":"","flex-center":""},wn={"w-full":"","bg-gray:50":"","flex-center":""},bn={"w-full":"","bg-gray:50":"","flex-center":""},yn={grid:"~ rows-4","col-span-2":"","h-full":"","w-full":""},Cn={"h-full":"","w-full":"","bg-gray:80":"","flex-center":"","row-span-3":""},xn={"w-full":"","bg-gray:80":"","flex-center":"","row-span-1":""},kn=$({__name:"GameMain",setup(e){const n=G("showGameInfo",!0,localStorage),t=ne(),o=k(null),r=L(()=>t.value.playerRole),l=k(),a=k(),i=k([]),u=k([]),_=g=>{l.value&&i.value.push(l.value,a.value);const f=Q(g);l.value=f,t.value.playerCardItems=t.value.playerCardItems.filter(S=>S.sort!==f.sort);const C=re(t.value.computerCardItems.length),b=Q(t.value.computerCardItems[C]);a.value=b,t.value.computerCardItems=t.value.computerCardItems.filter(S=>S.sort!==b.sort),setTimeout(()=>{d(f,b)},1e3)},v=(g,f)=>{const b={emperor:{emperor:null,citizen:"win",slave:"lose"},citizen:{emperor:"lose",citizen:null,slave:"win"},slave:{emperor:"win",citizen:"lose",slave:null}}[g.role][f.role];return{round:t.value.rounds,role:r.value,result:b,score:b==="win"?1:0}},d=(g,f)=>{if(a.value=null,l.value=null,g.role===f.role)i.value.push(g,f);else{const C=v(g,f);u.value.push(C),i.value=[],Ot(),o.value.reshow()}};return(g,f)=>(h(),w(ee,null,[x(tn,{ref_key:"showInfoRef",ref:o},null,512),s("div",{"h-full":"","w-screen":"",grid:"~",class:O([m(n)?"grid-cols-5":"grid-cols-1"])},[x(se,{name:"game-center",mode:"out-in"},{default:q(()=>[s("div",gn,[s("div",vn,[x(Dt,{role:"slave",cardItems:m(t).computerCardItems},null,8,["cardItems"])]),s("div",hn,[x(ie,{"card-info":[m(a)]},null,8,["card-info"])]),s("div",wn,[x(ie,{"card-info":[m(l)]},null,8,["card-info"])]),s("div",bn,[x(Vt,{role:"emperor",cardItems:m(t).playerCardItems,onCardCheck:_},null,8,["cardItems"])])])]),_:1}),x(se,{name:"game-info",mode:"out-in"},{default:q(()=>[je(s("div",yn,[s("div",Cn,[x(St,{"game-info-items":m(u)},null,8,["game-info-items"])]),s("div",xn,[x(_n,{cardItems:m(i)},null,8,["cardItems"])])],512),[[Te,m(n)]])]),_:1})],2)],64))}}),Sn=$({__name:"GameContent",setup(e){const n=G("bgImage",1,localStorage)||k(1);return(t,o)=>(h(),w("div",{"w-full":"","h-full":"","flex-center":"","bg-center":"","bg-cover":"","bg-no-repeat":"",style:he({backgroundImage:`url(${m(B)(`bg-${m(n)}.jpg`)})`})},[x(kn)],4))}}),In={"h-100dvh":"","h-screen":"","w-screen":"","of-hidden":"",grid:"~ rows-[max-content_1fr]"},Fn=$({__name:"Home",setup(e){return(n,t)=>(h(),w("main",In,[x(wt),x(Sn)]))}});export{Fn as default};
