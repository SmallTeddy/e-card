import{u as w,o as P,n as le,r as $,a as ie,t as me,c as ve,w as Q,g as he,b as we,d as ae,s as be,e as E,f as ye,h as F,i as m,j as v,k as s,l as I,_ as ce,m as h,F as O,p as V,q as J,v as xe,x as Se,y as Ce,z as Z,A as Y,T as ee,B as ke,C as Fe,D as je}from"./index-crHs0D0R.js";function K(e){return he()?(we(e),!0):!1}function q(e){return typeof e=="function"?e():w(e)}const ue=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const $e=Object.prototype.toString,Ee=e=>$e.call(e)==="[object Object]",de=()=>{};function ze(e,n){function t(...o){return new Promise((r,i)=>{Promise.resolve(e(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(r).catch(i)})}return t}const fe=e=>e();function Le(e=fe){const n=$(!0);function t(){n.value=!1}function o(){n.value=!0}const r=(...i)=>{n.value&&e(...i)};return{isActive:ie(n),pause:t,resume:o,eventFilter:r}}function Me(e){return e||ae()}function Ae(...e){if(e.length!==1)return me(...e);const n=e[0];return typeof n=="function"?ie(ve(()=>({get:n,set:de}))):$(n)}function Ie(e,n,t={}){const{eventFilter:o=fe,...r}=t;return Q(e,ze(o,n),r)}function Oe(e,n,t={}){const{eventFilter:o,...r}=t,{eventFilter:i,pause:d,resume:c,isActive:f}=Le(o);return{stop:Ie(e,n,{...r,eventFilter:i}),pause:d,resume:c,isActive:f}}function pe(e,n=!0,t){const o=Me(t);o?P(e,o):n?e():le(e)}function H(e){var n;const t=q(e);return(n=t==null?void 0:t.$el)!=null?n:t}const T=ue?window:void 0,Te=ue?window.document:void 0;function U(...e){let n,t,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,o,r]=e,n=T):[n,t,o,r]=e,!n)return de;Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);const i=[],d=()=>{i.forEach(p=>p()),i.length=0},c=(p,g,k,b)=>(p.addEventListener(g,k,b),()=>p.removeEventListener(g,k,b)),f=Q(()=>[H(n),q(r)],([p,g])=>{if(d(),!p)return;const k=Ee(g)?{...g}:g;i.push(...t.flatMap(b=>o.map(S=>c(p,b,S,k))))},{immediate:!0,flush:"post"}),u=()=>{f(),d()};return K(u),u}function Re(){const e=$(!1);return ae()&&P(()=>{e.value=!0}),e}function ge(e){const n=Re();return E(()=>(n.value,!!e()))}function De(e,n={}){const{window:t=T}=n,o=ge(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let r;const i=$(!1),d=u=>{i.value=u.matches},c=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",d):r.removeListener(d))},f=ye(()=>{o.value&&(c(),r=t.matchMedia(q(e)),"addEventListener"in r?r.addEventListener("change",d):r.addListener(d),i.value=r.matches)});return K(()=>{f(),c(),r=void 0}),i}const N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B="__vueuse_ssr_handlers__",Ge=Ne();function Ne(){return B in N||(N[B]=N[B]||{}),N[B]}function _e(e,n){return Ge[e]||n}function Be(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Ve={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},te="vueuse-storage";function R(e,n,t,o={}){var r;const{flush:i="pre",deep:d=!0,listenToStorageChanges:c=!0,writeDefaults:f=!0,mergeDefaults:u=!1,shallow:p,window:g=T,eventFilter:k,onError:b=a=>{console.error(a)},initOnMounted:S}=o,x=(p?be:$)(typeof n=="function"?n():n);if(!t)try{t=_e("getDefaultStorage",()=>{var a;return(a=T)==null?void 0:a.localStorage})()}catch(a){b(a)}if(!t)return x;const C=q(n),l=Be(C),z=(r=o.serializer)!=null?r:Ve[l],{pause:D,resume:y}=Oe(x,()=>L(x.value),{flush:i,deep:d,eventFilter:k});return g&&c&&pe(()=>{U(g,"storage",j),U(g,te,A),S&&j()}),S||j(),x;function L(a){try{if(a==null)t.removeItem(e);else{const _=z.write(a),M=t.getItem(e);M!==_&&(t.setItem(e,_),g&&g.dispatchEvent(new CustomEvent(te,{detail:{key:e,oldValue:M,newValue:_,storageArea:t}})))}}catch(_){b(_)}}function G(a){const _=a?a.newValue:t.getItem(e);if(_==null)return f&&C!=null&&t.setItem(e,z.write(C)),C;if(!a&&u){const M=z.read(_);return typeof u=="function"?u(M,C):l==="object"&&!Array.isArray(M)?{...C,...M}:M}else return typeof _!="string"?_:z.read(_)}function A(a){j(a.detail)}function j(a){if(!(a&&a.storageArea!==t)){if(a&&a.key==null){x.value=C;return}if(!(a&&a.key!==e)){D();try{(a==null?void 0:a.newValue)!==z.write(x.value)&&(x.value=G(a))}catch(_){b(_)}finally{a?le(y):y()}}}}}function He(e){return De("(prefers-color-scheme: dark)",e)}function Ue(e={}){const{selector:n="html",attribute:t="class",initialValue:o="auto",window:r=T,storage:i,storageKey:d="vueuse-color-scheme",listenToStorageChanges:c=!0,storageRef:f,emitAuto:u,disableTransition:p=!0}=e,g={auto:"",light:"light",dark:"dark",...e.modes||{}},k=He({window:r}),b=E(()=>k.value?"dark":"light"),S=f||(d==null?Ae(o):R(d,o,i,{window:r,listenToStorageChanges:c})),x=E(()=>S.value==="auto"?b.value:S.value),C=_e("updateHTMLAttrs",(y,L,G)=>{const A=typeof y=="string"?r==null?void 0:r.document.querySelector(y):H(y);if(!A)return;let j;if(p){j=r.document.createElement("style");const a="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";j.appendChild(document.createTextNode(a)),r.document.head.appendChild(j)}if(L==="class"){const a=G.split(/\s/g);Object.values(g).flatMap(_=>(_||"").split(/\s/g)).filter(Boolean).forEach(_=>{a.includes(_)?A.classList.add(_):A.classList.remove(_)})}else A.setAttribute(L,G);p&&(r.getComputedStyle(j).opacity,document.head.removeChild(j))});function l(y){var L;C(n,t,(L=g[y])!=null?L:y)}function z(y){e.onChanged?e.onChanged(y,l):l(y)}Q(x,z,{flush:"post",immediate:!0}),pe(()=>z(x.value));const D=E({get(){return u?S.value:x.value},set(y){S.value=y}});try{return Object.assign(D,{store:S,system:b,state:x})}catch{return D}}const ne=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function qe(e,n={}){const{document:t=Te,autoExit:o=!1}=n,r=E(()=>{var l;return(l=H(e))!=null?l:t==null?void 0:t.querySelector("html")}),i=$(!1),d=E(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(l=>t&&l in t||r.value&&l in r.value)),c=E(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(l=>t&&l in t||r.value&&l in r.value)),f=E(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(l=>t&&l in t||r.value&&l in r.value)),u=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(l=>t&&l in t),p=ge(()=>r.value&&t&&d.value!==void 0&&c.value!==void 0&&f.value!==void 0),g=()=>u?(t==null?void 0:t[u])===r.value:!1,k=()=>{if(f.value){if(t&&t[f.value]!=null)return t[f.value];{const l=r.value;if((l==null?void 0:l[f.value])!=null)return!!l[f.value]}}return!1};async function b(){if(!(!p.value||!i.value)){if(c.value)if((t==null?void 0:t[c.value])!=null)await t[c.value]();else{const l=r.value;(l==null?void 0:l[c.value])!=null&&await l[c.value]()}i.value=!1}}async function S(){if(!p.value||i.value)return;k()&&await b();const l=r.value;d.value&&(l==null?void 0:l[d.value])!=null&&(await l[d.value](),i.value=!0)}async function x(){await(i.value?b():S())}const C=()=>{const l=k();(!l||l&&g())&&(i.value=l)};return U(t,ne,C,!1),U(()=>H(r),ne,C,!1),o&&K(b),{isSupported:p,isFullscreen:i,enter:S,exit:b,toggle:x}}const We=F({__name:"GameInfoToggle",setup(e){const n=R("showGameInfo",!0,localStorage),t=()=>n.value=!n.value;return(o,r)=>(m(),v("button",{rounded:"","p-2":"",hover:"bg-active",onClick:t},[s("div",{class:I({"i-material-symbols:right-panel-close-rounded":w(n),"i-material-symbols:right-panel-open-rounded":!w(n)}),"text-2xl":""},null,2)]))}}),Je=s("div",{"i-humbleicons:exchange-vertical":"","text-2xl":""},null,-1),Ze=[Je],Pe=F({__name:"ChangeBackImage",setup(e){const n=R("bgImage",1,localStorage),t=()=>{n.value>=4?n.value=1:n.value++};return(o,r)=>(m(),v("button",{rounded:"","p-2":"",hover:"bg-active",onClick:t},Ze))}}),Qe=F({__name:"FullScreenToggle",setup(e){const{isFullscreen:n,toggle:t}=qe();return(o,r)=>(m(),v("button",{rounded:"","p-2":"",hover:"bg-active",onClick:r[0]||(r[0]=(...i)=>w(t)&&w(t)(...i))},[s("div",{class:I({"i-gridicons:fullscreen-exit":w(n),"i-gridicons:fullscreen":!w(n)}),"text-2xl":""},null,2)]))}}),Ke=s("div",{"i-ph-sun-dim-duotone":"","dark:i-ph-moon-stars-duotone":"","text-2xl":""},null,-1),Xe=[Ke],Ye=F({__name:"ColorSchemeToggle",setup(e){const n=Ue(),t=()=>{n.value=n.value==="light"?"dark":"light"};return(o,r)=>(m(),v("button",{rounded:"","p-2":"",hover:"bg-active",onClick:t},Xe))}}),et={},tt={rounded:"",p2:"",title:"GitHub",hover:"bg-active",href:"https://github.com/SmallTeddy/e-card",target:"_blank"},nt=s("div",{"i-carbon-logo-github":"","text-2xl":""},null,-1),rt=[nt];function ot(e,n){return m(),v("a",tt,rt)}const st=ce(et,[["render",ot]]),lt={px4:"",py3:"","text-lg":"",border:"b base",flex:"~ gap-1 items-center"},it=s("div",{title:"Game"}," E-Card ",-1),at=s("div",{"flex-auto":""},null,-1),ct={__name:"GameNav",setup(e){return(n,t)=>(m(),v("nav",lt,[it,at,h(st),h(We),h(Ye),h(Pe),h(Qe)]))}},W=e=>(xe("data-v-233ad15b"),e=e(),Se(),e),ut=W(()=>s("td",null,"局数",-1)),dt=W(()=>s("td",null,"总计",-1)),ft=W(()=>s("td",null,"皇帝",-1)),pt=W(()=>s("td",null,"奴隶",-1)),gt=F({__name:"GameInformation",setup(e){const n=[1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,1],t=n.map(i=>!!i),o=n.reduce((i,d)=>i+d,0),r=21-o;return(i,d)=>(m(),v("table",null,[s("tr",null,[ut,(m(),v(O,null,V(21,c=>s("td",null,J(c),1)),64)),dt]),s("tr",null,[ft,(m(),v(O,null,V(n,c=>s("td",null,[s("div",{"w-20px":"","h-20px":"","border-rd-10px":"",class:I(c?"bg-green":"bg-red")},null,2)])),64)),s("td",null,J(w(o)),1)]),s("tr",null,[pt,(m(!0),v(O,null,V(w(t),c=>(m(),v("td",null,[s("div",{"w-20px":"","h-20px":"","border-rd-10px":"",class:I(c?"bg-red":"bg-green")},null,2)]))),256)),s("td",null,J(r))])]))}}),re=ce(gt,[["__scopeId","data-v-233ad15b"]]),_t=""+new URL("bg-1-7WOjZxTA.jpg",import.meta.url).href,mt=""+new URL("bg-2-DLgME5w9.jpg",import.meta.url).href,vt=""+new URL("bg-3-aFUBrAKO.jpg",import.meta.url).href,ht=""+new URL("bg-4-3vOUQaI_.jpg",import.meta.url).href,wt=""+new URL("citizen-2myAtGQo.jpg",import.meta.url).href,bt=""+new URL("emperor-jZ-GUtEA.jpg",import.meta.url).href,yt=""+new URL("slave-vZ3wDTL4.jpg",import.meta.url).href,xt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='37.07'%20height='36'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20198'%3e%3cpath%20fill='%2341B883'%20d='M204.8%200H256L128%20220.8L0%200h97.92L128%2051.2L157.44%200h47.36Z'%3e%3c/path%3e%3cpath%20fill='%2341B883'%20d='m0%200l128%20220.8L256%200h-51.2L128%20132.48L50.56%200H0Z'%3e%3c/path%3e%3cpath%20fill='%2335495E'%20d='M50.56%200L128%20133.12L204.8%200h-47.36L128%2051.2L97.92%200H50.56Z'%3e%3c/path%3e%3c/svg%3e",X=e=>new URL(Object.assign({"../assets/bg-1.jpg":_t,"../assets/bg-2.jpg":mt,"../assets/bg-3.jpg":vt,"../assets/bg-4.jpg":ht,"../assets/citizen.jpg":wt,"../assets/emperor.jpg":bt,"../assets/slave.jpg":yt,"../assets/vue.svg":xt})[`../assets/${e}`],import.meta.url).href,St=e=>{e.classList.add("cardDisposeArea")},Ct={grid:"~ cols-5 gap-5"},kt=["alt","src","onClick"],Ft=["onClick"],oe=F({__name:"PlayerCard",props:{role:{type:String,default:"emperor"}},setup(e){const n=e,t=$([{role:"emperor",img:"emperor.jpg",isClick:!1,sort:1,group:"emperor"},{role:"citizen",img:"citizen.jpg",isClick:!1,sort:2,group:"emperor"},{role:"citizen",img:"citizen.jpg",isClick:!1,sort:3,group:"emperor"},{role:"citizen",img:"citizen.jpg",isClick:!1,sort:4,group:"emperor"},{role:"citizen",img:"citizen.jpg",isClick:!1,sort:5,group:"emperor"}]),o=$([{role:"slave",img:"slave.jpg",isClick:!1,sort:1,group:"slave"},{role:"citizen",img:"citizen.jpg",isClick:!1,sort:2,group:"slave"},{role:"citizen",img:"citizen.jpg",isClick:!1,sort:3,group:"slave"},{role:"citizen",img:"citizen.jpg",isClick:!1,sort:4,group:"slave"},{role:"citizen",img:"citizen.jpg",isClick:!1,sort:5,group:"slave"}]),r=E(()=>n.role==="emperor"?t.value:o.value),i=c=>{r.value.map(f=>f.isClick=!1),c.isClick=!0},d=(c,f)=>{let u=document.querySelector("."+c+"."+f);St(u)};return(c,f)=>(m(),v("div",Ct,[(m(!0),v(O,null,V(w(r),(u,p)=>(m(),v("div",{"w-120px":"",relative:"","cursor-pointer":"","transition-all-500":"",class:I([u.isClick?"top--20px":"top-0",u.group,u.role+p])},[s("img",{alt:u.role,src:w(X)(u.img),onClick:g=>i(u)},null,8,kt),s("div",{"text-center":"",onClick:g=>d(u.group,u.role+p)}," 弃置 ",8,Ft)],2))),256))]))}}),jt={key:0,"flex-center":"","flex-col":"","h-screen":"","w-screen":"",relative:"","font-size-40px":"","bg-gray:50":""},$t=s("div",{"w-160px":"","h-56px":"","flex-center":"","rd-8px":"","gap-5":""},[Z("第 "),s("span",{"text-green":""}," X "),Z(" 局")],-1),Et=s("div",{"w-240px":"","h-56px":"","flex-center":"","rd-8px":""},[Z("角色 ： "),s("span",{"text-red":""},"国王")],-1),zt=[$t,Et],Lt=F({__name:"StartInfo",setup(e){const n=$(!0);return P(()=>{setTimeout(()=>{n.value=!1},3e3)}),(t,o)=>w(n)?(m(),v("div",jt,zt)):Ce("",!0)}}),Mt=["alt","src"],se=F({__name:"CheckCard",props:{cardInfo:{default:()=>({role:"citizen",img:"citizen.jpg"})}},setup(e){return(n,t)=>(m(),v("div",null,[s("img",{"w-120px":"","cursor-pointer":"",alt:n.cardInfo.role,src:w(X)(n.cardInfo.img)},null,8,Mt)]))}}),At={grid:"~ rows-4","col-span-3":"","h-full":"","w-full":""},It={"w-full":"","bg-gray:50":"","flex-center":""},Ot={"bg-gray:50":"","flex-center":""},Tt={"w-full":"","bg-gray:50":"","flex-center":""},Rt={"w-full":"","bg-gray:50":"","flex-center":""},Dt={grid:"~ rows-4","col-span-2":"","h-full":"","w-full":""},Gt={"h-full":"","w-full":"","bg-gray:80":"","flex-center":""},Nt=s("div",{"w-full":"","bg-gray:80":"","flex-center":""},"弃牌区域",-1),Bt=s("div",{"w-full":"","bg-gray:80":"","flex-center":""},"弃牌区域",-1),Vt={"h-full":"","w-full":"","bg-gray:80":"","flex-center":""},Ht=F({__name:"GameMain",setup(e){const n=R("showGameInfo",!0,localStorage);return(t,o)=>(m(),v(O,null,[h(Lt),s("div",{"h-full":"","w-screen":"",grid:"~",class:I(w(n)?"grid-cols-5":"grid-cols-1")},[h(ee,{name:"game-center",mode:"out-in"},{default:Y(()=>[s("div",At,[s("div",It,[h(oe,{role:"slave"})]),s("div",Ot,[h(se,{"card-info":{role:"slave",img:"slave.jpg"}},null,8,["card-info"])]),s("div",Tt,[h(se,{"card-info":{role:"citizen",img:"citizen.jpg"}},null,8,["card-info"])]),s("div",Rt,[h(oe,{role:"emperor"})])])]),_:1}),h(ee,{name:"game-info",mode:"out-in"},{default:Y(()=>[ke(s("div",Dt,[s("div",Gt,[h(re)]),Nt,Bt,s("div",Vt,[h(re)])],512),[[Fe,w(n)]])]),_:1})],2)],64))}}),Ut=F({__name:"GameContent",setup(e){const n=R("bgImage",1,localStorage)||$(1);return(t,o)=>(m(),v("div",{"w-full":"","h-full":"","flex-center":"","bg-center":"","bg-cover":"","bg-no-repeat":"",style:je({backgroundImage:`url(${w(X)(`bg-${w(n)}.jpg`)})`})},[h(Ht)],4))}}),qt={"h-100dvh":"","h-screen":"","w-screen":"","of-hidden":"",grid:"~ rows-[max-content_1fr]"},Jt=F({__name:"Home",setup(e){return(n,t)=>(m(),v("main",qt,[h(ct),h(Ut)]))}});export{Jt as default};
